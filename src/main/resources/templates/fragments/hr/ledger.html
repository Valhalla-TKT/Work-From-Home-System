<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>WorkHub</title>

</head>
<body>
	

    <div id="wrap" th:fragment="content">
        <table id="ledger-table" class="table table-striped" style="width:100%">
        <thead>
            <tr>
                <th>No</th>
                <th>Department</th>
                <th>Project/Team</th>
                <th>User ID</th>
                <th>Name</th>
                <th>E-Mail</th>
                <th>Applied Date</th>
                <th>From Period</th>
                <th>To Period</th>
                <th>Workcation</th>
                <th>WFH request Percentage</th>
                <th>Use own facilities</th>
                <th>If No, Computer?</th>
                <th>If No, Monitor?</th>
                <th>If No, UPS?</th>
                <th>If No, Phone?</th>
                <th>If No, Other?</th>
                <th>Environment Facilities</th>
                <th>Project Manager</th>
                <th>Approve Date</th>
                <th>Dept Head</th>
                <th>Approve Date</th>
                <th>Division Head</th>
                <th>Approve Date</th>
                <th>CISO</th>
                <th>Approve Date</th>
                <th>CEO</th>
                <th>Final Approve Date</th>
                <th>Signed pledge letter date</th>
                <th>Reason for WFH</th>
            </tr>
        </thead>
        <tbody>
			<tr th:each="ledger : ${ledgerList}">
	            <td th:text="${ledger.id}"></td>
            <td th:text="${ledger.department}"></td>
            <td th:text="${ledger.team}"></td>
            <td th:text="${ledger.staff_id}"></td>
            <td th:text="${ledger.name}"></td>
            <td th:text="${ledger.email}"></td>
            <td th:text="${ledger.applied_date}"></td>
            <td th:text="${ledger.from_date}"></td>
            <td th:text="${ledger.to_date}"></td>            
            <td th:text="${ledger.workcation}"></td>
            <td th:text="${ledger.request_percent}"></td>
            <td th:text="${ledger.use_own_facilities}"></td>
            <td th:text="${ledger.computer}"></td>
            <td th:text="${ledger.monitor}"></td>
            <td th:text="${ledger.ups}"></td>
            <td th:text="${ledger.phone}"></td>
            <td th:text="${ledger.other}"></td>
            <td th:text="${ledger.environment_facilities}"></td>            
            <td th:text="${ledger.project_manager_approve}"></td>
            <td th:text="${ledger.project_manager_approveDate}"></td>
            <td th:text="${ledger.department_head_approve}"></td>
            <td th:text="${ledger.department_head_approveDate}"></td>
            <td th:text="${ledger.division_head_approve}"></td>
            <td th:text="${ledger.division_head_approveDate}"></td>
            <td th:text="${ledger.ciso_approve}"></td>
            <td th:text="${ledger.ciso_approveDate}"></td>
			<td th:text="${ledger.ceo_approve}"></td>
            <td th:text="${ledger.final_approveDate}"></td>
            <td th:text="${ledger.signed_pledge_letter_date}"></td>
            <td th:text="${ledger.reason_for_wfh}"></td>
	        </tr>
        </tbody>
    </table>
     <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/2.0.1/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.0.1/js/dataTables.bootstrap5.js"></script>
    <script src="https://cdn.datatables.net/2.0.3/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.1/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.1/js/buttons.dataTables.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.1/js/buttons.print.min.js"></script>

  <script>
    function getCurrentDateTime() {
        var currentDate = new Date();
        var day = currentDate.getDate().toString().padStart(2, '0');
        var month = (currentDate.getMonth() + 1).toString().padStart(2, '0');
        var year = currentDate.getFullYear();
        var hours = currentDate.getHours().toString().padStart(2, '0');
        var minutes = currentDate.getMinutes().toString().padStart(2, '0');
        var seconds = currentDate.getSeconds().toString().padStart(2, '0');
        return day + month + year + hours + minutes + seconds;
    }

    var filename = getCurrentDateTime() + 'WFHS-Ledger';

    new DataTable('#ledger-table', {
        scrollX: true,
        layout: {
            topStart: {
                buttons: [
                    {
                        extend: 'copy',
                        filename: filename
                    },
                    {
                        extend: 'csv',
                        filename: filename
                    },
                    {
                        extend: 'excel',
                        filename: filename
                    }
                ]
            }
        }
    });
</script>



  </div>   
</body>
</html>